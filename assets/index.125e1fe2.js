import{j as h,r as i,a as S,R as C,b as R}from"./vendor.26b63288.js";const O=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function c(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=c(s);fetch(s.href,o)}};O();const k="a",E="b",L="c",$="e",w="f";var d={container:k,textarea:E,title:L,bar:$,count:w};const A="g";var D={button:A};const n=h.exports.jsx,f=h.exports.jsxs,M=({text:e,onClick:t})=>n("button",{className:D.button,onClick:t,children:e}),v=e=>e.replace(/\s+/g," ").replace(/,+/g,","),x=e=>e.split(", ").map(t=>v(t).trim()).filter(t=>t!==""),B="h",I="i";var y={tags:B,tag:I};const H="j",K="k",z="l";var p={tag:H,cross:K,danger:z};const F=(...e)=>e.filter(t=>!!t).join(" "),J=({text:e,onClickRemove:t,addClass:c})=>{const[r,s]=i.exports.useState(!1),o=()=>s(!r);return f("div",{className:F(p.tag,c,r&&p.danger),children:[e,n("button",{className:p.cross,onClick:t,onMouseEnter:o,onMouseLeave:o,children:"\u2716"})]})},P=({tags:e,onClickRemove:t})=>n("div",{className:y.tags,children:e.map((c,r)=>n(J,{text:c,onClickRemove:()=>t(r),addClass:y.tag},`${r}`))});function _(){const[e,t]=i.exports.useState([]),[c,r]=i.exports.useState(""),s=i.exports.useRef(null);i.exports.useEffect(()=>{let a=localStorage.getItem("tags")||"[]";t(JSON.parse(a))},[]),i.exports.useEffect(()=>{S(s.current),o()},[e]);const o=()=>{localStorage.setItem("tags",JSON.stringify(e))},u=({target:{value:a}})=>{let l=a,g=l.match(/\s*,*\s*$/)[0];g=v(g),l=l.replace(/\s*,\s*/g,", ");let m=x(l);r(g),t(m)},b=()=>{const a=e.join(", ").replace(/[\s,]+/g,", ");t(x(a))},N=()=>r(""),T=a=>{/[0-9А-яЁёA-Za-z_@\-',.\s]/.test(a.key)||a.preventDefault()},j=a=>{const l=e.filter((g,m)=>m!==a);t(l)};return f("div",{className:d.container,children:[n("h1",{className:d.title,children:"Simple Tag Editor"}),f("div",{className:d.bar,children:[n(M,{text:"_ > ,",onClick:b}),n("div",{className:d.count,children:e.length})]}),n("textarea",{className:d.textarea,onChange:u,onKeyDown:T,onBlur:N,value:e.join(", ")+c,ref:s}),n(P,{tags:e,onClickRemove:j})]})}C.render(n(R.StrictMode,{children:n(_,{})}),document.getElementById("app"));
