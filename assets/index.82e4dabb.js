import{j as h,r as i,a as S,R as j,b as C}from"./vendor.26b63288.js";const R=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function c(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=c(e);fetch(e.href,o)}};R();const $="Aa",O="Ab",k="Ac",E="Ae",L="Af";var d={container:$,textarea:O,title:k,bar:E,count:L};const w="Ag";var D={button:w};const a=h.exports.jsx,f=h.exports.jsxs,M=({text:t,onClick:s})=>a("button",{className:D.button,onClick:s,children:t}),v=t=>t.replace(/\s+/g," ").replace(/,+/g,","),x=t=>t.split(", ").map(s=>v(s).trim()).filter(s=>s!==""),B="Ah",I="Ai";var y={tags:B,tag:I};const H="Ai",K="Aj",z="Ak";var p={tag:H,cross:K,danger:z};const F=({text:t,onClickRemove:s,addClass:c})=>{const[r,e]=i.exports.useState(!1),o=()=>e(!r);return f("div",{className:`${r?p.danger:""} ${p.tag} ${c}`,children:[t,a("button",{className:p.cross,onClick:s,onMouseEnter:o,onMouseLeave:o,children:"\u2716"})]})},J=({tags:t,onClickRemove:s})=>a("div",{className:y.tags,children:t.map((c,r)=>a(F,{text:c,onClickRemove:()=>s(r),addClass:y.tag},`${r}`))});function P(){const[t,s]=i.exports.useState([]),[c,r]=i.exports.useState(""),e=i.exports.useRef(null);i.exports.useEffect(()=>{let n=localStorage.getItem("tags")||"[]";s(JSON.parse(n))},[]),i.exports.useEffect(()=>{S(e.current),o()},[t]);const o=()=>{localStorage.setItem("tags",JSON.stringify(t))},u=({target:{value:n}})=>{let l=n,g=l.match(/\s*,*\s*$/)[0];g=v(g),l=l.replace(/\s*,\s*/g,", ");let m=x(l);r(g),s(m)},A=()=>{const n=t.join(", ").replace(/[\s,]+/g,", ");s(x(n))},b=()=>r(""),N=n=>{/[0-9А-яЁёA-Za-z_@\-',.\s]/.test(n.key)||n.preventDefault()},T=n=>{const l=t.filter((g,m)=>m!==n);s(l)};return f("div",{className:d.container,children:[a("h1",{className:d.title,children:"Simple Tag Editor"}),f("div",{className:d.bar,children:[a(M,{text:"_ > ,",onClick:A}),a("div",{className:d.count,children:t.length})]}),a("textarea",{className:d.textarea,onChange:u,onKeyDown:N,onBlur:b,value:t.join(", ")+c,ref:e}),a(J,{tags:t,onClickRemove:T})]})}j.render(a(C.StrictMode,{children:a(P,{})}),document.getElementById("app"));
